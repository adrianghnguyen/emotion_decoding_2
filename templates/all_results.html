<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>All previous results</title>
</head>
<body>
</body>
    <div id="localStorageValues"></div>
    <script>
        function displayLocalStorage() {
            // Retrieve all keys in localStorage
            const keys = Object.keys(localStorage);
        
            // Create HTML content
            let htmlContent = '<h2>localStorage Values</h2><ul>';
        
            keys.forEach(key => {
                const value = localStorage.getItem(key);
                
                // Print key as H3
                htmlContent += `<h3>${key}</h3>`;
                
                // Print out the entire storage object TODO: Parse as a json object?
                htmlContent += `<li><strong>Value:</strong> ${value}</li>`;
            
                // Secondary inner loop for another layer of key-value pairs
                if (typeof value === 'object') {
                    htmlContent += `<ul>`;
                    // If the value is an object, iterate over its key-value pairs
                    Object.entries(value).forEach(([innerKey, innerValue]) => {
                        htmlContent += `<li><strong>${innerKey}:</strong> ${innerValue}</li>`;
                    });
                    htmlContent += `</ul>`;
                }
            });

        
            htmlContent += '</ul>';
        
            // Display the HTML content
            document.getElementById('localStorageValues').innerHTML = htmlContent;
        }
        
        // Example usage
        document.addEventListener('DOMContentLoaded', function() {
            displayLocalStorage();
        });
    </script>
</html>