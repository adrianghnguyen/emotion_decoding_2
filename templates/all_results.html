<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>All previous results</title>
</head>
<body>
</body>
    <div id="localStorageValues"></div>
    <script>
        function displayLocalStorage() {
            // Retrieve all keys in localStorage
            const keys = Object.keys(localStorage);
        
            // Create HTML content
            let htmlContent = '<h2>Previous local input results</h2><ul>';
        
            keys.forEach(key => {
                const value = localStorage.getItem(key);
                
                // Section header using the timestamp key
                //htmlContent += `<h3>${key}</h3>`; # Unused - local storage key id
                individual_entry = JSON.parse(value)
                htmlContent += `<h3>${individual_entry.inputText} at ${individual_entry.timestamp}</h3>`
                
                // Emotion printout
                emotionResults = individual_entry.emotionResults
                emotion_print = JSON.stringify(emotionResults, null, 4)
                console.log(emotion_print)
                htmlContent += `${emotion_print}`
            });

        
            htmlContent += '</ul>';
        
            // Display the HTML content
            document.getElementById('localStorageValues').innerHTML = htmlContent;
        }
        
        // Example usage
        document.addEventListener('DOMContentLoaded', function() {
            displayLocalStorage();
        });
    </script>
</html>